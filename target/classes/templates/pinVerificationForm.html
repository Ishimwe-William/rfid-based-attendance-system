<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>PIN Verification Form</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}" media="screen"
        crossorigin="anonymous"/>
  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/css/style.css}" href="../static/css/style.css"/>
  <th:block th:insert="layout/header"></th:block>
</head>
<body>
<div class="container">
  <!-- PIN Verification Form -->
  <form th:action="@{/register}" method="post">
    <!-- Enter PIN Section -->
    <div class="form-group">
      <label for="pin">Enter the 6-digit PIN sent to your email:</label>
      <input type="text" class="form-control" id="pin" name="pin" required/>
      <small id="pinHelp" class="form-text text-muted">
        Please check your email for the 6-digit PIN and enter it above.
      </small>
      <p th:if="${pinError}" class="text-danger" th:text="${pinError}"></p>
    </div>

    <!-- Hidden Fields with User Details -->
    <input type="hidden" name="email" th:value="${email}"/>
    <input type="hidden" name="firstName" th:value="${user.firstName}"/>
    <input type="hidden" name="lastName" th:value="${user.lastName}"/>
    <input type="hidden" name="password" th:value="${user.password}"/>

    <!-- Register Button -->
    <button type="submit" class="btn btn-primary">Complete Registration</button>

    <!-- Additional Explanation -->
    <small id="additionalExplanation" class="form-text text-muted">
      If you haven't received the PIN, please check your spam folder.
      Contact our support if you're still experiencing issues.
    </small>
  </form>
</div>
<div th:insert="layout/footer"></div>
<script th:src="@{/webjars/jquery/3.6.4/jquery.min.js}"></script>
<script th:src="@{/webjars/jquery/3.6.4/jquery.slim.min.js}" crossorigin="anonymous"></script>
<script th:src="@{/webjars/popper.js/2.11.7/umd/popper.min.js}" crossorigin="anonymous"></script>
<script th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}" crossorigin="anonymous"></script>
</body>
</html>
